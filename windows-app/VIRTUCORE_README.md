# Android Stream Receiver ุจุง ฺฉูพุงุฑฺูโุณุงุฒ VirtuCore

## ุฎูุงุตู ุชุบุฑุงุช

ุงู ูุณุฎู ุงุฒ ุงูพูฺฉุดู ุจู ุทูุฑ ฺฉุงูู ุจุง ุฏุฑุงูุฑูุง **VirtuCore** (ุฏูุฑุจู ู ูฺฉุฑูููู ูุฌุงุฒ ุณุทุญ ฺฉุฑูู) ฺฉูพุงุฑฺู ุดุฏู ุงุณุช.

## ุชุบุฑุงุช ุงุตู

### โ ุญุฐู ุดุฏู
- ูุงุจุณุชฺฏ ุจู OBS Studio
- ูุงุจุณุชฺฏ ุจู pyvirtualcam
- ูุงุจุณุชฺฏ ุจู VB-Audio Cable

### โ ุงุถุงูู ุดุฏู
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ VirtuCore Camera Driver (AVStream)
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ VirtuCore Microphone Driver (PortCls)
- ุงุฑุชุจุงุท ูุณุชูู ุจุง ุฏุฑุงูุฑูุง ฺฉุฑูู ุงุฒ ุทุฑู IOCTL ู WASAPI

## ูพุดโูุงุฒูุง

### 1. ูุตุจ ุฏุฑุงูุฑูุง VirtuCore

ูุจู ุงุฒ ุงุฌุฑุง ุจุฑูุงููุ ุฏุฑุงูุฑูุง VirtuCore ุจุงุฏ ูุตุจ ุดููุฏ:

```powershell
# ูุนุงูโุณุงุฒ Test Signing (PowerShell ุจุง Admin)
bcdedit /set testsigning on

# Restart ุณุณุชู
shutdown /r /t 0

# ูุตุจ ุฏุฑุงูุฑ ุฏูุฑุจู
cd ..\virtual-camera\avstream-camera
.\install.bat

# ูุตุจ ุฏุฑุงูุฑ ูฺฉุฑูููู
cd ..\portcls-microphone
.\install.bat
```

### 2. ูุตุจ ูุงุจุณุชฺฏโูุง Python

```bash
pip install -r requirements.txt
```

## ุงุฌุฑุง ุจุฑูุงูู

```bash
python main.py
```

## ูุนูุงุฑ ุฌุฏุฏ

```
โโโโโโโโโโโโโโโโโโโ
โ  Android Device โ
โ   (H.264/AAC)   โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โ Network
         โ
โโโโโโโโโโโโโโโโโโโโโโโ
โ  Windows App        โ
โ  โโ VideoDecoder    โ
โ  โโ AudioDecoder    โ
โโโโโโโโฌโโโโโโโโโโโฌโโโโ
       โ          โ
       โ          โ
โโโโโโโโโโโโ โโโโโโโโโโโโ
โ VirtuCoreโ โ VirtuCoreโ
โ  Camera  โ โ    Mic   โ
โ  (IOCTL) โ โ (WASAPI) โ
โโโโโโโโโโโโ โโโโโโโโโโโโ
       โ          โ
       โ          โ
   Zoom/Teams/OBS
```

## ูุงฺููโูุง ุฌุฏุฏ

### 1. `virtucore_camera.py`
- ุงุฑุชุจุงุท ุจุง ุฏุฑุงูุฑ ุฏูุฑุจู ุงุฒ ุทุฑู IOCTL
- ุงุฑุณุงู ูุฑูโูุง RGB24 ุจู ุฏุฑุงูุฑ
- ูุฏุฑุช handle ู error handling

### 2. `virtucore_microphone.py`
- ุงุฑุชุจุงุท ุจุง ุฏุฑุงูุฑ ูฺฉุฑูููู ุงุฒ ุทุฑู WASAPI
- ุดูุงุณุง "Virtual Microphone Input"
- ุงุฑุณุงู PCM audio samples

### 3. ุชุบุฑุงุช ุฏุฑ `decoder.py`
- AudioDecoder ุญุงูุง ูุณุชููุงู ุจู VirtuCore Microphone ุงุฑุณุงู ูโฺฉูุฏ
- ูพุดุชุจุงู ุงุฒ fallback ุจู PyAudio ุฏุฑ ุตูุฑุช ุนุฏู ุฏุณุชุฑุณ ุจู ุฏุฑุงูุฑ

### 4. ุชุบุฑุงุช ุฏุฑ `device_manager.py`
- ุญุฐู ฺฉุงูู ฺฉุฏูุง OBS
- ุจุฑุฑุณ ูุตุจ ุฏุฑุงูุฑูุง VirtuCore
- ุฑุงูููุง ูุตุจ ุฏุฑุงูุฑูุง

## ุชุณุช

### ุฏูุฑุจู ูุฌุงุฒ
1. ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ
2. ุจู ุงูุฏุฑูุฏ ูุชุตู ุดูุฏ
3. ุฏฺฉูู "ูุนุงูโุณุงุฒ ุฏูุฑุจู ูุฌุงุฒ" ุฑุง ุจุฒูุฏ
4. ุฏุฑ Zoom/Teamsุ ุฏูุฑุจู "Virtual Camera" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

### ูฺฉุฑูููู ูุฌุงุฒ
1. ุตุฏุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ุฏุฑุงูุฑ ุงุฑุณุงู ูโุดูุฏ
2. ุฏุฑ Zoom/Teamsุ ูฺฉุฑูููู "Virtual Microphone" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุง ุจุง Sound Recorder ุชุณุช ฺฉูุฏ

## ุนุจโุงุจ

### ุฎุทุง: "ุฏุฑุงูุฑ ุฏูุฑุจู VirtuCore ูุตุจ ูุณุช"
- ูุทูุฆู ุดูุฏ ุฏุฑุงูุฑ ุฑุง ุจุง ุฏุณุชุฑุณ Administrator ูุตุจ ฺฉุฑุฏูโุงุฏ
- Device Manager ุฑุง ฺฺฉ ฺฉูุฏ (Imaging devices)
- ูุงฺฏ ูุตุจ ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ุฎุทุง: "Virtual Microphone Input ุงูุช ูุดุฏ"
- ุฏุฑุงูุฑ ูฺฉุฑูููู ุฑุง ูุตุจ ฺฉูุฏ
- Settings > Sound ุฑุง ฺฺฉ ฺฉูุฏ
- ุฏุณุชฺฏุงู "Virtual Microphone Input" ุจุงุฏ ููุฌูุฏ ุจุงุดุฏ

### ุจุฑูุงูู ุดุฑูุน ููโุดูุฏ
- Test Signing ุฑุง ูุนุงู ฺฉุฑุฏู ู ุณุณุชู ุฑุง Restart ฺฉูุฏ
- ูุงฺฏ `android_stream.log` ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ุณุงุฎุชุงุฑ ูุงูโูุง

```
windows-app/
โโโ main.py                          # ููุทู ูุฑูุฏ ุงุตู
โโโ requirements.txt                 # ูุงุจุณุชฺฏโูุง Python
โโโ virtual_camera/
โ   โโโ virtucore_camera.py         # ๐ ูุงฺูู ุฏูุฑุจู
โ   โโโ virtucore_microphone.py     # ๐ ูุงฺูู ูฺฉุฑูููู
โ   โโโ interface.py                # ุขูพุฏุช ุดุฏู
โ   โโโ device_manager.py           # ุขูพุฏุช ุดุฏู
โโโ streaming/
โ   โโโ decoder.py                  # ุขูพุฏุช ุดุฏู
โโโ ui/
    โโโ main_window.py              # ุขูพุฏุช ุดุฏู
```

## ูุฒุงุง ฺฉูพุงุฑฺูโุณุงุฒ VirtuCore

### ุนููฺฉุฑุฏ
- โ ุชุงุฎุฑ ฺฉูุชุฑ (ุจุฏูู middleware)
- โ ฺฉูุช ุจูุชุฑ (ุจุฏูู ุชุจุฏู ุงุถุงู)
- โ CPU usage ฺฉูุชุฑ

### ูุงุจูุช ุงุทููุงู
- โ ูุณุชูู ุงุฒ ูุฑูโุงูุฒุงุฑูุง ุดุฎุต ุซุงูุซ
- โ ฺฉูุชุฑู ฺฉุงูู ุจุฑ ุฑู pipeline
- โ Error handling ุฏููโุชุฑ

### ุณุงุฒฺฏุงุฑ
- โ ุจุง ุชูุงู ุจุฑูุงููโูุง ููุฏูุฒ ฺฉุงุฑ ูโฺฉูุฏ
- โ ุงุณุชุงูุฏุงุฑุฏ DirectShow/Media Foundation
- โ ูพุดุชุจุงู ุงุฒ WASAPI

## ุชูุณุนู ุจุดุชุฑ (ูุงุฒ ฒ)

ุฏุฑ ูุงุฒ ุจุนุฏุ ฺฉ DLL ุฏุฑ C++ ุณุงุฎุชู ุฎูุงูุฏ ุดุฏ ฺฉู:
- Performance ุจูุชุฑ
- Error handling ููโุชุฑ
- Thread safety ฺฉุงูู
- ูุงุจูุช ุงุณุชูุงุฏู ูุฌุฏุฏ

## ูุดุงุฑฺฉุช

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ูพุดููุงุฏุงุชุ ูุทูุงู issue ุงุฌุงุฏ ฺฉูุฏ.

## ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ Open Source ููุชุดุฑ ุดุฏู ุงุณุช.

